#server {
#    listen 80;
#    server_name localhost;
#    root /home/app/rails-devise-template/public;
#
#    # The following deploys your Ruby/Python/Node.js/Meteor app on Passenger.
#
#    # Not familiar with Passenger, and used (G)Unicorn/Thin/Puma/pure Node before?
#    # Yes, this is all you need to deploy on Passenger! All the reverse proxying,
#    # socket setup, process management, etc are all taken care automatically for
#    # you! Learn more at https://www.phusionpassenger.com/.
#    passenger_enabled on;
#    passenger_user app;
#
#    # If this is a Ruby app, specify a Ruby version:
#    passenger_ruby /usr/bin/ruby2.2;
#    # For Ruby 2.0
#    #passenger_ruby /usr/bin/ruby2.0;
#    # For Ruby 1.9.3 (you can ignore the "1.9.1" suffix)
#    #passenger_ruby /usr/bin/ruby1.9.1;
#}

server {
    listen 80 default_server;
    listen [::]:80 default_server ipv6only=on;

    listen 443 ssl;

    server_name localhost;

    root /home/app/rails-devise-template/public;

    # SSL
    ssl_certificate /home/app/rails-devise-template/certs/nginx.crt;
    ssl_certificate_key /home/app/rails-devise-template/certs/nginx.key;

    # Passenger
    passenger_enabled on;
    passenger_user app;
    passenger_ruby /usr/bin/ruby2.2;
#    rails_env production;

    # redirect server error pages to the static page /50x.html
#    error_page   500 502 503 504  /50x.html;
#    location = /50x.html {
#        root html;
#    }
#
#    # Static assets
#    location ^~ /assets/ {
#        gzip_static on;
#        expires max;
#        add_header Cache-Control public;
#    }
}
